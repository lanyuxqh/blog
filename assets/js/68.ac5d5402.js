(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{629:function(_,v,e){"use strict";e.r(v);var a=e(5),t=Object(a.a)({},(function(){var _=this,v=_.$createElement,e=_._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("h1",{attrs:{id:"第-17-章-async-函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第-17-章-async-函数"}},[_._v("#")]),_._v(" 第 17 章_async 函数")]),_._v(" "),e("h2",{attrs:{id:"一、概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、概述"}},[_._v("#")]),_._v(" 一、概述")]),_._v(" "),e("ol",[e("li",[_._v("async 函数是什么？一句话，它就是 Generator 函数的语法糖。")]),_._v(" "),e("li",[e("code",[_._v("async")]),_._v("函数返回一个 Promise 对象，可以使用"),e("code",[_._v("then")]),_._v("方法添加回调函数。当函数执行的时候，一旦遇到"),e("code",[_._v("await")]),_._v("就会先返回，等到异步操作完成，再接着执行函数体内后面的语句。")]),_._v(" "),e("li",[e("code",[_._v("async")]),_._v("函数内部"),e("code",[_._v("return")]),_._v("语句返回的值，会成为"),e("code",[_._v("then")]),_._v("方法回调函数的参数。")]),_._v(" "),e("li",[e("code",[_._v("async")]),_._v("函数内部抛出错误，会导致返回的 Promise 对象变为"),e("code",[_._v("reject")]),_._v("状态。抛出的错误对象会被"),e("code",[_._v("catch")]),_._v("方法回调函数接收到。")])]),_._v(" "),e("h2",{attrs:{id:"二、await-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、await-命令"}},[_._v("#")]),_._v(" 二、await 命令")]),_._v(" "),e("ol",[e("li",[_._v("正常情况下，"),e("code",[_._v("await")]),_._v("命令后面是一个 Promise 对象，返回该对象的结果。如果不是 Promise 对象，就直接返回对应的值。")]),_._v(" "),e("li",[_._v("任何一个"),e("code",[_._v("await")]),_._v("语句后面的 Promise 对象变为"),e("code",[_._v("reject")]),_._v("状态，那么整个"),e("code",[_._v("async")]),_._v("函数都会中断执行。")]),_._v(" "),e("li",[_._v("注意点\n"),e("ul",[e("li",[e("code",[_._v("await")]),_._v("命令后面的"),e("code",[_._v("Promise")]),_._v("对象，运行结果可能是"),e("code",[_._v("rejected")]),_._v("，所以最好把"),e("code",[_._v("await")]),_._v("命令放在"),e("code",[_._v("try...catch")]),_._v("代码块中。")]),_._v(" "),e("li",[_._v("多个"),e("code",[_._v("await")]),_._v("命令后面的异步操作，如果不存在继发关系，最好让它们同时触发。")]),_._v(" "),e("li",[e("code",[_._v("await")]),_._v("命令只能用在"),e("code",[_._v("async")]),_._v("函数之中，如果用在普通函数，就会报错。")]),_._v(" "),e("li",[_._v("async 函数可以保留运行堆栈。")])])])])])}),[],!1,null,null,null);v.default=t.exports}}]);