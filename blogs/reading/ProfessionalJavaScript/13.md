---
title: JS高程 | 第13章_事件
date: 2021-3-3
tags:
  - 读书笔记
  - javascript
categories:
  - 读书笔记
---

# 第 13 章\_事件

> 事件，就是文档或浏览器窗口中发生的一些特定的交互瞬间。

可以使用侦听器（或处理程序）来预订事件，以便事件发生时执行相应的代码。

## 1、事件流

> 事件流描述的是从页面中接收事件的顺序。

- 事件冒泡
  - IE 的事件流叫做事件冒泡（event bubbling）。
  - 事件开始时由最具体的元素（文档中嵌套层次最深的那个节点）接收，然后逐级向上传播到较为不具体的节点（文档）。
- 事件捕获
  - Netscape Communicator 团队提出的另一种事件流叫做事件捕获（event capturing）。
  - 不太具体的节点应该更早接收到事件，而最具体的节点应该最后接收到事件。
- DOM 事件流
  - “DOM2 级事件”规定的事件流包括三个阶段：事件捕获阶段、处于目标阶段和事件冒泡阶段。
  - 首先发生的是事件捕获，为截获事件提供了机会。然后是实际的目标接收到事件。最后一个阶段是冒泡阶段，可以在这个阶段对事件做出响应。

## 2、事件处理程序

> 响应某个事件的函数就叫做事件处理程序（或事件侦听器）。

- HTML 事件处理程序
  - 某个元素支持的每种事件，都可以使用一个与相应事件处理程序同名的 HTML 特性来指定。
- DOM0 级事件处理程序
  - 通过 JavaScript 指定事件处理程序的传统方式，就是将一个函数赋值给一个事件处理程序属性。
- DOM2 级事件处理程序
  - 定义了两个方法，用于处理指定和删除事件处理程序的操作：addEventListener() 和 removeEventListener()。
- IE 事件处理程序
  - attachEvent() 和 detachEvent()。
- 跨浏览器的事件处理程序
  - addHandler() 和 removeHandler()

## 3、事件对象

> 在触发 DOM 上的某个事件时，会产生一个事件对象 event ，这个对象中包含着所有与事件有关的信息。

- DOM 中的事件对象
  - event 对象包含与创建它的特定事件有关的属性和方法。触发的事件类型不一样，可用的属性和方法也不一样。
  - 要阻止特定事件的默认行为，可以使用 preventDefault() 方法。
  - stopPropagation() 方法用于立即停止事件在 DOM 层次中的传播，即取消进一步的事件捕获或冒泡。
- IE 中的事件对象

  - window.event

- 跨浏览器的事件对象
  - getEvent()

## 4、事件类型

- UI 事件：load、unload、resize、scroll
- 焦点事件：blur、focus
- 鼠标与滚轮事件：click、dblclick、mousedown、mouseenter、mouseleave、mousemove、mouseout、mouseover、mouseup、mousewheel
- 键盘与文本事件：keydown、keypress、keyup、textInput
- 复合事件
- 变动事件
- HTML5 事件
- 设备事件
- 触摸与手势事件

## 5、内存和性能

- 事件委托
  - 解决：事件处理程序过多
  - 方法：利用了事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。
  - 优点：占用的内存更少。
  - 适用：所有用到按钮的事件（多数鼠标事件和键盘事件）都适合采用事件委托技术。
- 移除事件处理程序
  - 解决：空事件处理程序
  - 方法：在不需要的时候移除事件处理程序。

## 6、模拟事件

- 可以使用 JavaScript 在浏览器中模拟事件。

- “DOM2 级事件”和“DOM3 级事件”规范规定了模拟事件的方法，为模拟各种有定义的事件提供了方便。
- 通过组合使用一些技术，还可以在某种程度上模拟键盘事件。
