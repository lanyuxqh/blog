---
title: ES6标准入门 | 第19章_Module
date: 2021-9-24
tags:
  - 读书笔记
  - javascript
categories:
  - 读书笔记
---

# 第 19 章\_Module

## 一、概述

1. 在 ES6 之前，社区制定了一些模块加载方案，最主要的有 CommonJS 和 AMD 两种。前者用于服务器，后者用于浏览器。
2. ES6 模块的设计思想是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。

## 二、export

1. `export`命令用于规定模块的对外接口。
2. 通常情况下，`export`输出的变量就是本来的名字，但是可以使用`as`关键字重命名。
3. `export`命令规定的是对外的接口，必须与模块内部的变量建立一一对应关系。
4. `export`语句输出的接口，与其对应的值是动态绑定关系，即通过该接口，可以取到模块内部实时的值。
5. `export`命令可以出现在模块的任何位置，只要处于模块顶层就可以。如果处于块级作用域内，就会报错。
6. `export default`命令，为模块指定默认输出。

## 三、import

1. `import`命令用于输入其他模块提供的功能。
2. `import`后面的`from`指定模块文件的位置，可以是相对路径，也可以是绝对路径。
3. `import`命令具有提升效果，会提升到整个模块的头部，首先执行。
4. 由于`import`是静态执行，所以不能使用表达式和变量，这些只有在运行时才能得到结果的语法结构。
5. 如果多次重复执行同一句`import`语句，那么只会执行一次，而不会执行多次。
6. 除了指定加载某个输出值，还可以使用整体加载，即用星号（`*`）指定一个对象，所有输出值都加载在这个对象上面。

## 四、export 与 import 的复合写法

1. 如果在一个模块之中，先输入后输出同一个模块，`import`语句可以与`export`语句写在一起。实际上并没有被导入当前模块，只是相当于对外转发了这个接口。

## 五、import()

1. `import`命令能够接受什么参数，`import()`函数就能接受什么参数，两者区别主要是后者为动态加载。
2. `import()`返回一个 Promise 对象。
3. `import()`的一些适用场合
   - 按需加载
   - 条件加载
   - 动态的模块路径
